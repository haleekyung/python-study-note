# 정규표현식(regular expression)

```python
import re
```

- 're' 뜻 : regular expression에서 가져옴

## Match와 Search 메소드

### Match

- 문장 첫부분이 매치되는지 찾을 수 있음
- 문장 패턴을 분석할 수 있음

```python
re.match(패턴, 스크립트)
```

### Search

- 문장 전체에서 매치되는지 찾을 수 있음, 따라서 스크립트 중간에 있는 글자도 찾을 수 있음

```python
re.search(패턴, 스크립트)
```

## Findall 메소드

- 패턴을 모두 찾아 리스트로 반환하기
- search나 match문은 제대로 찾았는지 확인하는 절차가 필요한 반면, findall로 찾으면 결과값이 빈 리스트([])로 나온다는 점에서 유용함

```python
re.findall(패턴, 스크립트)
```

### 문자열 구칙에 r을 붙이는 이유?

- r(raw string)
- 문자 내 '\' 이 씹히지 않도록 해줌

정규표현식에서 문자열 사용 시 만약 문자열에 '\'이 있다면, 파이썬에서는 이 문자를 그대로 인식하지 않고 컴퓨터에 명령하기 위한 명령어로 인식(이스케이프 문자)한다.따라서 이 이스케이프 문자를 사용하고 싶지 않다면 \를 하나 더 사용해  \\가 되는데,  이보다 문자열 규칙 앞에 r을 사용하면 그 뒤에 나오는 문자를 일반 문자로 인식한다(raw string)

## [꼭 외워야 할 정규표현식](https://www.notion.so/b256c24153da45c6bfcb1e5c9e8b619d)

## 탐욕(greedy) 제어하기 : 마침표(.)와 물음표(?)

### 마침표(.)

- 모든 문자를 의미
- 반복하면 모든 문자를 집어 삼키므로 이를 제어할 때 물음표(?)를 사용

### 물음표(?)

- 마침표 제어

```python
example1 = '저는 91년에 태어났습니다. 97년에는 IMF가 있었습니다. 지금은 2020년입니다.'
re.findall(r'\d.+?년', example1)

>>> ['91년', '97년', '2020년']
```

## Split  메서드 - 문장 나누는 패턴 만들기

- 특정한 패턴이 나올 때 문자열 나눔
- 만약 문장 구분하고 싶은 경우 '.', '?', '!' 등의 문자열을 통해 구분 가능함 → 이 점을 이용해 문장 나눠보기

```python
re.split(패턴, 문자열)

# 문장 나누고 싶을 때는
re.split(r[.!?], 변수)

# 데이터 형식 나누고 싶을 때는
data = 'a:3; b:4; c:5'

for i in re.split(r';', data):
	print(re.split(r':', i))

>>> ['a', '3']
>>> ['b', '4']
>>> ['c', '5']
```

## Sub 메서드 - 문자열 바꾸기

- 엄청 많이 쓰므로 외워둘 것
- 원래 있던 문자열을 원하는 다른 문자로 바꾸고 싶을 때 사용

```python
re.sub(찾을 패턴, 대체할 문자, 찾을 문자열)
```

   → 이 때 '찾을 패턴', '찾을 문자열'은 일반적인 메서드랑 비슷하지만, 중간에 내가 대체할 문자를 써넣는 것이 다른 점

### 실습

1) ly로 끝나는 단어 추출하기

```python
sentence = 'I have a lovely dog, really. I am not telling a lie'
re.findall(r'\w+ly', sentence)
```

- 메타 문자 `\w` 를 사용하였음,  여기서 숫자와 상관없이 반복하는 문자는  `+` 이므로, 정리하면 `'\w+ly'`